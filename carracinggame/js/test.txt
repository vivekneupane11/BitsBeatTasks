let start_button =  document.getElementById('start-button');
let road = document.getElementById('road');
let lines = document.getElementById('lines');
let lines2 = document.getElementById('lines2');
let lane1 = document.getElementById('lane1');
let lane2 = document.getElementById('lane2');
let lane3 = document.getElementById('lane3');
let scoreheader = document.getElementById('score');
let car1 = document.getElementById('car1');
let car3 = document.getElementById('car2');
let car2 = document.getElementById('car3');
let playerCar = document.getElementById("mycar");

// start_button.addEventListener("click",function(){
//     road.style.marginTop = "0px";
//     road.style.transition = "1s all ease-out";
//     scoreheader.innerHTML = "Score :"; 
//     setInterval(updateScore , 500);
//});
    road.style.marginTop = "0px";
    road.style.transition = "1s all ease-out";
    scoreheader.innerHTML = "Score :"; 
    setInterval(updateScore , 500);
    setInterval(car1down , 500);
    setInterval(car2down , 500);
    setInterval(car3down , 500);
    let flag = 2;
   document.onkeydown = function(event){
     
       switch(event.key){
           case 'ArrowUp':
               alert("UP");
               break;
            
           case 'ArrowDown':
                alert("down");
                break;

            
           case 'ArrowRight':
                if(flag == 2){
                    playerCar.style.marginLeft = "160px";
                    flag = 3;
                }
                else if(flag == 1){
                    playerCar.style.marginLeft="-15px";
                    flag=2;

                }
                
                break;

            
           case 'ArrowLeft':
                if(flag == 3){
                    playerCar.style.marginLeft = "-15px";
                    flag = 2;
                }

                else if(flag == 2){
                    playerCar.style.marginLeft = "-160px";
                    flag = 1;
                }
                else if(flag == 1){
                    flag=1;
                    
                } 

                break;
       }
   };


let car1top =  Math.floor(Math.random() * (-400 - (-600) + 1)) + (-600); //-400 max //-600 min for range
function car1down(){
    car1.style.marginTop=car1top + 'px';
    car1top = car1top + 20;
    if(car1top > 500 && flag == 2 && flag == 3 ){
        car1top =  Math.floor(Math.random() * (-200 - (-300) + 1)) + (-300);

    }

}
let car2top=  Math.floor(Math.random() * (-50 - (-350) + 1)) + (-350);
function car2down(){
    car2.style.marginTop=car2top+ 'px';
    car2top= car2top+ 20;
    if(car2top > 500 && flag == 1 && flag == 3 ){
        car2top=  Math.floor(Math.random() * (-800 - (-1000) + 1)) + (-1000);
    }
    
    console.log(flag);
    alert(playerCar.style.marginTop);
}
let car3top =  Math.floor(Math.random() * (0 - (-700) + 1)) + (-1000);;
function car3down(){
    car3.style.marginTop=car3top + 'px';
    car3top = car3top + 20;
    if(car3top > 500 && flag == 1 && flag == 2 ){
        car3top =  Math.floor(Math.random() * (-400 - (-800) + 1)) + (-800);
    }

}


setInterval(moveLines,200);
setInterval(moveLines2,200);
 

let score = 0;
function updateScore(){
scoreheader.innerHTML ="SCORE : "+ score;
score = score + 5;
}

let toproad = -400;
function moveLines(){

   lines.style.marginTop = toproad + "px";
    toproad = toproad + 10;
    if(toproad == 0){
        toproad = -300;
    }
  
}
let toproad2 = -400;
function moveLines2(){

   lines2.style.marginTop = toproad2 + "px";
    toproad2 = toproad2 + 10;
    if(toproad2 == 0){
        toproad2 = -300; 
    }
  
}

